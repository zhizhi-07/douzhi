# 线下模式使用说明

## 📖 功能特性

### 1. 书籍式排版
- **用户消息**：居中显示，角色名+时间
- **AI叙事**：段落式排版，首行缩进
- **引用内容**：自动居中斜体显示

### 2. 自定义背景
- 点击右上角📷图标上传背景图片
- 背景自动保存，下次打开自动恢复

### 3. 流式输出 🌊
- 点击玻璃珠开关启用/关闭
- 开启后文字逐个显示，更有沉浸感
- 状态自动保存

### 4. 预设系统 📋（重要！）
- **两种导入方式**：
  1. 💻 **桌面导入器**（推荐）：打开 `桌面预设导入器.html`，拖放预设文件批量导入
  2. 📱 **在线上传**：点击线下模式右上角📄图标，选择单个预设文件
- 支持 SillyTavern 格式的预设文件
- 可自定义叙事风格和文风
- 预设列表、切换、删除功能完整

## 🎨 预设格式

预设文件为 JSON 格式，必须包含以下字段：

```json
{
  "name": "预设名称",
  "system_prompt": "这里写你的自定义提示词..."
}
```

### 预设示例

#### 浪漫文艺风
```json
{
  "name": "浪漫文艺风",
  "system_prompt": "你是一位细腻的叙事者，擅长用诗意的语言描写场景..."
}
```

#### 悬疑推理风
```json
{
  "name": "悬疑推理风", 
  "system_prompt": "你是一位冷静的观察者，用克制的笔触记录场景..."
}
```

#### 日常生活风
```json
{
  "name": "日常生活风",
  "system_prompt": "你用朴实的语言记录日常，温馨而真实..."
}
```

## 💡 使用技巧

1. **背景选择**：选择柔和、不花哨的图片作为背景，避免干扰阅读
2. **流式输出**：长文本时建议开启，体验更好
3. **预设切换**：不同场景使用不同预设，营造不同氛围
4. **消息输入**：简短明确，让AI发挥叙事功能

## 🔧 快捷键

- **Enter**：发送消息
- **返回按钮**：回到线上聊天模式

## 📝 注意事项

- 预设文件必须是有效的 JSON 格式
- `system_prompt` 字段支持 SillyTavern 变量替换
- 流式输出仅在线下模式生效，不影响线上聊天
- 背景和预设分别保存，互不影响

## 🎯 最佳实践

1. **先上传预设**，设定好文风
2. **选择合适背景**，营造氛围
3. **开启流式输出**，获得最佳阅读体验
4. **简短输入**，让叙事者发挥

祝你享受沉浸式的阅读体验！📚✨
