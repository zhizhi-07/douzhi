/* 公共气泡样式（用户 + AI） */
.message-container .message-bubble {
    background: transparent !important;
    border-radius: 20px !important;
    position: relative !important;
    overflow: hidden !important;
    animation: bubble-float 6s ease-in-out infinite !important;

    box-shadow: inset 3px 3px 8px rgba(255, 255, 255, 0.7),
                inset -3px -3px 8px rgba(0, 0, 0, 0.08),
                0 8px 20px rgba(0,0,0,0.25) !important;

    /* 默认字体（浅色背景） */
    color: #222222 !important;
    text-shadow: 0 0 4px rgba(255,255,255,0.8) !important;

    cursor: pointer !important; /* 鼠标有交互感 */
}

/* 上方高光 */
.message-container .message-bubble::after {
    content: "" !important;
    position: absolute !important;
    top: 5% !important;
    left: 10% !important;
    width: 60% !important;
    height: 30% !important;
    background: radial-gradient(ellipse at top left, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0) 70%) !important;
    border-radius: 50% !important;
    animation: bubble-glow 3s ease-in-out infinite !important;
    pointer-events: none !important;
}

/* 下方反光 */
.message-container .message-bubble::before {
    content: "" !important;
    position: absolute !important;
    bottom: 8% !important;
    left: 20% !important;
    width: 60% !important;
    height: 15% !important;
    background: radial-gradient(ellipse at bottom, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0) 80%) !important;
    border-radius: 50% !important;
    pointer-events: none !important;
}

/* 点击时生成多圈涟漪 */
.message-container .message-bubble:active::after,
.message-container .message-bubble:active::before {
    content: "" !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 10px !important;
    height: 10px !important;
    background: rgba(255, 255, 255, 0.4) !important;
    border-radius: 50% !important;
    transform: translate(-50%, -50%) scale(0) !important;
    pointer-events: none !important;
}

/* 多圈波纹：用伪元素叠加 */
.message-container .message-bubble:active::after {
    animation: ripple 0.8s ease-out forwards !important;
}

.message-container .message-bubble:active::before {
    animation: ripple 1.2s ease-out forwards !important;
    background: rgba(255, 255, 255, 0.25) !important; /* 次波更淡 */
}

/* 第三圈波纹（用一个子元素实现） */
.message-container .message-bubble span.ripple {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 10px !important;
    height: 10px !important;
    background: rgba(255,255,255,0.2) !important;
    border-radius: 50% !important;
    transform: translate(-50%, -50%) scale(0) !important;
    pointer-events: none !important;
    animation: ripple 1.6s ease-out forwards !important;
}

/* 消息容器 */
.message-container {
    margin-bottom: 10px !important;
}

/* 呼吸高光动画 */
@keyframes bubble-glow {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 0.9;
        transform: scale(1.05);
    }
}

/* 水滴漂浮动画 */
@keyframes bubble-float {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-3px);
    }
}

/* 涟漪动画 */
@keyframes ripple {
    from {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0.7;
    }
    to {
        transform: translate(-50%, -50%) scale(6);
        opacity: 0;
    }
}

/* 深色模式字体优化 */
@media (prefers-color-scheme: dark) {
    .message-container .message-bubble {
        color: #f5f5f5 !important;
        text-shadow: 0 0 4px rgba(0,0,0,0.8) !important;
    }
}
